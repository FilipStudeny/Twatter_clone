extends layouts/main_layout.pug

block pageContent

    if errorMessage 
        span.errorMessage #{errorMessage}
    else 
        script.
            const chatID = '!{chat._id}';

        .chatPageContainer 
            .chatTitleBarContainer 
                +createChatImage(chat, userLoggedIn)
                span#chatName(data-toggle="modal", data-target="#chatNameModal")
            
            .mainContentContainer 
                .loadingSpinnerContainer 
                    img(src="/images/loadingSpinner.gif", alt="Loading messages...")
                .chatContainer(style="visibility: hidden")
                    ul.chatMessages 

                    .typingDots 
                        img(src="/images/dots.gif", alt="User is typing...")
                    .footer 
                        textarea.inputTextBox(name="messageInput", placeholder='Type a message...')
                        button.sendMessageButton 
                            i.fas.fa-paper-plane 

        +createChatNameModal(chat)
block scripts
    script(src="/scripts/chatPage.js") 


